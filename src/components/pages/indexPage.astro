---
import { Image } from "astro:assets";
import Layout from "@/layouts/Layout.astro";
import BannerMain from "@/components/banners/BannerMain.astro";
import DescriptionSecction from "@/components/sections/DescriptionSection/DescriptionSection.astro";
import BannerParallax from "@/components/banners/BannerParallax.astro";
import PromotionSection from "@/components/sections/PromotionSection.astro";
import AmenitiesSection from "@/components/sections/AmenitiesSection.astro";
import MapPointsInterestMobile from "@/components/maps/MapPointsInterestMobile";
import MapPointsInterestDesk from "@/components/maps/MapPointsInterestDesk";
import LocationSection from "@/components/sections/LocationSection.astro";
import AvailabilitySection from "@/components/sections/AvailabilitySection.astro";
import InvestSection from "@/components/sections/InvestSection.astro";
import FooterSection from "@/layouts/FooterSection.astro";
import ContactSection from "../sections/ContactSection.astro";
import HomeDesignSection from "@/components/sections/HomeDesignSection.astro";

import NewMapaPlano from "@/assets/imgs/MapPlano/mapPlanoNew.webp";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
---

<Layout header title={title} description={description}>
  {
    title === "Cenote Gardens | Inicio" && (
      <link slot="head" rel="canonical" href="https://cenotegardens.com/" />
    )
  }
  <BannerMain />
  <DescriptionSecction />
  <InvestSection />
  <HomeDesignSection />

  <BannerParallax />
  <PromotionSection />
  <AmenitiesSection />
  <LocationSection />
  <MapPointsInterestDesk client:visible url={Astro.url} />
  <MapPointsInterestMobile client:visible url={Astro.url} />

  <AvailabilitySection />
  <!-- <MapPlanoCenote client:visible url={Astro.url} /> -->

  <section class="block w-full lg:px-8 xl:px-12 container md:max-w-6xl mb-12">
    <Image
      src={NewMapaPlano}
      alt="mapCenote"
      class="size-full object-cover mb-8"
    />

    <div class="flex items-center mt-8">
      <a
        href="#contact"
        class="max-w-56 mb-4 bg-accent-700 hover:bg-accent-800 px-6 py-3 text-white m-auto text-center"
      >
        {t("btnToContact")}
      </a>
    </div>
  </section>

  <ContactSection />
  <FooterSection />
</Layout>
